@model SystemConfig
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Admin/_LayoutAdmin.cshtml";
}

@if (Model != null)
{
    <section class="contact py-lg-5 py-md-4 py-md-3 py-2">
        <div class="container py-lg-5 py-md-4 py-md-3 py-2">
            <div class="w3_mg">
                <h3>Cấu hình hệ thống</h3>
            </div>
            <div class="row">
                <div class=" float-right">
                    <a id="Edit" class="btn btn-info"><i class="fa fa-edit"></i> &nbsp; Chỉnh sửa</a>

                    <a asp-action="CreateNewComlunm" class="btn btn-info"><i class="fa fa-plus"></i> &nbsp; Thêm</a>
                </div>
            </div>
            <br />
            <hr />
            <form method="post" asp-action="UpdateConfig" enctype="multipart/form-data">
                <div class="form-group row">
                    <input hidden asp-for="Id" />
                </div>
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Tên doanh nghiệp</label>
                    </div>
                    <div class="col-lg-8">
                        <input asp-for="CompanyName" class="form-control" type="text" value="@Model.CompanyName" readonly />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Logo</label>
                    </div>
                    <div class="col-lg-8">
                        @{
                            var value = Model.CompanyLogo.Split(@"\");
                        }
                        <input asp-for="CompanyLogo" class="form-control" type="text" value="@value[value.Length-1]" readonly />
                        <input id="ImageLogo" name="ImageLogo" type="file" class="btn btn-default" />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Số điện thoại</label>
                    </div>
                    <div class="col-lg-8">
                        <input asp-for="CompanyPhone" class="form-control" type="text" value="@Model.CompanyPhone" readonly />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Địa chỉ Email</label>
                    </div>
                    <div class="col-lg-8">
                        <input asp-for="CompanyEmail" class="form-control" type="text" value="@Model.CompanyEmail" readonly />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Địa chỉ</label>
                    </div>
                    <div class="col-lg-8">
                        <input asp-for="CompanyAddress" class="form-control" type="text" value="@Model.CompanyAddress" readonly />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-10">

                    </div>
                    <div class="col-lg-2">
                        <button type="submit" id="Save" asp-action="UpdateConfig" class="btn btn-info" hidden><i class="fa fa-save"></i> &nbsp; Lưu</button>
                    </div>

                </div>
            </form>

        </div>
    </section>
}
else
{
    <section class="contact py-lg-5 py-md-4 py-md-3 py-2">
        <div class="container py-lg-5 py-md-4 py-md-3 py-2">
            <div class="w3_mg">
                <h3>Cấu hình hệ thống</h3>
            </div>
            <div class="row">
                <div class=" float-right">
                    <a id="Edit" class="btn btn-info"><i class="fa fa-edit"></i> &nbsp; Chỉnh sửa</a>

                    <a asp-action="CreateNewComlunm" class="btn btn-info"><i class="fa fa-plus"></i> &nbsp; Thêm</a>
                </div>
            </div>
            <br />
            <hr />
            <form method="post" asp-action="UpdateConfig" enctype="multipart/form-data">
                <div class="form-group row">
                    <input hidden asp-for="Id" />
                </div>
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Tên doanh nghiệp</label>
                    </div>
                    <div class="col-lg-8">
                        <input asp-for="CompanyName" class="form-control" type="text" value="" readonly />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Logo</label>
                    </div>
                    <div class="col-lg-8">

                        <input asp-for="CompanyLogo" class="form-control" type="text" value="" readonly />
                        <input id="ImageLogo" name="ImageLogo" type="file" class="btn btn-default" />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Số điện thoại</label>
                    </div>
                    <div class="col-lg-8">
                        <input asp-for="CompanyPhone" class="form-control" type="text" value="" readonly />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Địa chỉ Email</label>
                    </div>
                    <div class="col-lg-8">
                        <input asp-for="CompanyEmail" class="form-control" type="text" value="" readonly />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label>Địa chỉ</label>
                    </div>
                    <div class="col-lg-8">
                        <input asp-for="CompanyAddress" class="form-control" type="text" value="" readonly />
                    </div>
                </div>
                <br />
                <div class="form-group row">
                    <div class="col-lg-10">

                    </div>
                    <div class="col-lg-2">
                        <button type="submit" id="Save" asp-action="UpdateConfig" class="btn btn-info" hidden><i class="fa fa-save"></i> &nbsp; Lưu</button>
                    </div>

                </div>
            </form>

        </div>
    </section>

}


@section Scripts{
    <script>
        $('#Edit').click(function () {
            $('#CompanyName').removeAttr('readonly');
            $('#CompanyEmail').removeAttr('readonly');
            $('#CompanyAddress').removeAttr('readonly');
            $('#CompanyPhone').removeAttr('readonly');
            $('#Save').removeAttr('hidden');
        });
    </script>
}
